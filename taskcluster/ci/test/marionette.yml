job-defaults:
    suite: marionette
    mozharness:
        script: marionette.py
        config:
            by-test-platform:
                macosx.*:
                    - marionette/prod_config.py
                    - marionette/mac_taskcluster_config.py
                windows.*:
                    - marionette/windows_taskcluster_config.py
                default:
                    - marionette/prod_config.py
                    - remove_executables.py
        extra-options:
            - --application=thunderbird --test-manifest=../../../../../comm/testing/marionette/unit-tests.ini
    run-on-projects: built-projects

marionette:
    description: "Marionette unittest run"
    treeherder-symbol: Mn
    max-run-time: 5400
    e10s: false
    instance-size: default
    chunks: 1

marionette-headless:
    description: "Marionette headless unittest run"
    treeherder-symbol: MnH
    max-run-time: 5400
    e10s: false
    instance-size: default
    mozharness:
        extra-options:
            - --headless

