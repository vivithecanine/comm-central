# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<!-- Styles -->
<link rel="stylesheet" href="chrome://messenger/skin/vcard.css" />

<!-- Scripts -->
<script src="chrome://messenger/content/addressbook/edit/n.js"></script>
<script src="chrome://messenger/content/addressbook/edit/email.js"></script>
<script src="chrome://messenger/content/addressbook/edit/impp.js"></script>
<script src="chrome://messenger/content/addressbook/edit/special-date.js"></script>
<script src="chrome://messenger/content/addressbook/edit/tel.js"></script>
<script src="chrome://messenger/content/addressbook/edit/tz.js"></script>
<script src="chrome://messenger/content/addressbook/edit/url.js"></script>
<script src="chrome://messenger/content/addressbook/edit/edit.js"></script>

<!-- Localization -->
<link rel="localization" href="messenger/addressbook/vcard.ftl" />

<!-- A11Y -->
<label id="vcard-email-table-header-type-label" data-l10n-id="vcard-entry-type-label" hidden=""/>
<label id="vcard-email-table-header-email-label" data-l10n-id="vcard-email-label" hidden=""/>
<label id="vcard-email-table-header-primary" data-l10n-id="vcard-email-choose-primary" hidden=""/>

<!-- Edit View -->
<template id="template-addr-book-edit">
  <link rel="stylesheet" href="chrome://messenger/skin/vcard-edit.css"/>
  <!-- Name -->
  <fieldset id="addr-book-edit-n" class="addr-book-edit-fieldset">
    <legend class="screen-readers-only" data-l10n-id="vcard-name-header"/>
    <slot name="v-n"/>
  </fieldset>
  <!-- Email -->
  <fieldset id="addr-book-edit-email" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-email-header"/>
    <table>
      <thead>
        <tr>
          <th class="screen-readers-only" scope="col"
              data-l10n-id="vcard-entry-type-label"/>
          <th class="screen-readers-only" scope="col"
              data-l10n-id="vcard-email-label"/>
          <th class="screen-readers-only" scope="col"
              data-l10n-id="vcard-email-choose-primary"/>
        </tr>
      </thead>
      <tbody>
        <!--
          @note Because we're using XHTML this works.
          @see
          https://github.com/WICG/webcomponents/issues/59#issuecomment-202330706
          https://github.com/WICG/webcomponents/issues/404
        -->
        <slot name="v-email"/>
      </tbody>
    </table>
    <!-- The add button is repeated boilerplate and will be reduced -->
    <button id="vcard-add-email"
            class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-email-add"/>
    </button>
  </fieldset>
  <!-- URL -->
  <fieldset id="addr-book-edit-url" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-url-header"/>
    <slot name="v-url"/>
    <!-- The add button is repeated boilerplate and will be reduced -->
    <button id="vcard-add-url" class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-url-add"/>
    </button>
  </fieldset>
  <!-- Tel -->
  <fieldset id="addr-book-edit-tel" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-tel-header"/>
    <slot name="v-tel"/>
    <!-- The add button is repeated boilerplate and will be reduced -->
    <button id="vcard-add-tel" class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-tel-add"/>
    </button>
  </fieldset>
  <!-- Time Zone -->
  <fieldset id="addr-book-edit-tz" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-tz-header"/>
    <slot name="v-tz"/>
    <button id="vcard-add-tz" class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-tz-add"/>
    </button>
  </fieldset>
  <!-- IMPP (Chat) -->
  <fieldset id="addr-book-edit-impp" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-impp-header"/>
    <slot name="v-impp"/>
    <!-- The add button is repeated boilerplate and will be reduced -->
    <button id="vcard-add-impp" class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-impp-add"/>
    </button>
  </fieldset>
  <!-- Birthday and Anniversary (Special dates) -->
  <fieldset id="addr-book-edit-bday-anniversary" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-bday-anniversary-header"/>
    <slot name="v-bday"/>
    <slot name="v-anniversary"/>
    <button id="vcard-add-bday-anniversary" class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-bday-anniversary-add"/>
    </button>
  </fieldset>
</template>

<!-- Individual fields -->

<!-- N field -->
<template id="template-vcard-edit-n">
  <div id="n-list-component-prefix" class="n-list-component">
    <label for="vcard-n-prefix" data-l10n-id="vcard-n-prefix" />
    <input id="vcard-n-prefix"
           type="text"
           autocomplete="off" />
    <button class="primary" data-l10n-id="vcard-n-add-prefix"
            type="button">
      <img src="chrome://global/skin/icons/add.svg" alt="" />
    </button>
  </div>
  <div id="n-list-component-firstname" class="n-list-component">
    <label for="vcard-n-firstname" data-l10n-id="vcard-n-firstname" />
    <input id="vcard-n-firstname"
           type="text"
           autocomplete="off" />
  </div>
  <div id="n-list-component-middlename" class="n-list-component">
    <label for="vcard-n-middlename" data-l10n-id="vcard-n-middlename" />
    <input id="vcard-n-middlename"
           type="text"
           autocomplete="off" />
    <button class="primary" data-l10n-id="vcard-n-add-middlename"
            type="button">
      <img src="chrome://global/skin/icons/add.svg" alt="" />
    </button>
  </div>
  <div id="n-list-component-lastname" class="n-list-component">
    <label for="vcard-n-lastname" data-l10n-id="vcard-n-lastname" />
    <input id="vcard-n-lastname"
           type="text"
           autocomplete="off" />
  </div>
  <div id="n-list-component-suffix" class="n-list-component">
    <label for="vcard-n-suffix" data-l10n-id="vcard-n-suffix" />
    <button class="primary" data-l10n-id="vcard-n-add-suffix"
            type="button">
      <img src="chrome://global/skin/icons/add.svg" alt="" />
    </button>
    <input id="vcard-n-suffix"
           type="text"
           autocomplete="off" />
  </div>
</template>

<!-- Email -->
<template id="template-vcard-edit-email">
  <td>
    <!-- The type selection is repeated boilerplate and will be reduced -->
    <select class="vcard-type-selection"
            aria-labelledby="vcard-email-table-header-type-label">
      <option value="work" data-l10n-id="vcard-entry-type-work" />
      <option value="home" data-l10n-id="vcard-entry-type-home" />
      <option value="" data-l10n-id="vcard-entry-type-none" selected="true" />
    </select>
  </td>
  <td>
    <input type="email"
           aria-labelledby="vcard-email-table-header-email-label" />
  </td>
  <td>
    <input type="checkbox"
           aria-labelledby="vcard-email-table-header-primary" />
  </td>
</template>

<!-- Field with type and text -->
<template id="template-vcard-edit-type-text">
  <label class="screen-readers-only"
         for="select"
         data-l10n-id="vcard-entry-type-label"/>
  <!-- The type selection is repeated boilerplate and will be reduced -->
  <select class="vcard-type-selection">
    <option value="work" data-l10n-id="vcard-entry-type-work"/>
    <option value="home" data-l10n-id="vcard-entry-type-home"/>
    <option value="" data-l10n-id="vcard-entry-type-none" selected="true"/>
  </select>
  <label class="screen-readers-only" for="text"/>
  <input type="text"/>
</template>

<!-- Time Zone -->
<template id="template-vcard-edit-tz">
  <select>
    <option value=""></option>
  </select>
</template>

<!-- Field with text -->
<template id="template-vcard-edit-text">
  <label class="screen-readers-only" for="text"/>
  <input type="text"/>
</template>

<!-- Birthday and Anniversary -->
<template id="template-vcard-edit-bday-anniversary">
  <fieldset>
    <legend/>
    <select class="vcard-type-selection">
      <option value="bday" data-l10n-id="vcard-bday-label" selected="true"/>
      <option value="anniversary" data-l10n-id="vcard-anniversary-label"/>
    </select>
    <div class="vcard-year-month-day-container">
      <label class="screen-readers-only" for="month" data-l10n-id="vcard-date-month"/><!-- No white space here.
   --><select id="month">
        <option value="" data-l10n-id="vcard-date-month" />
      </select><!-- No white space here.
   --><label class="screen-readers-only" for="day" data-l10n-id="vcard-date-day"/><!-- No white space here.
   --><select id="day">
        <option value="" data-l10n-id="vcard-date-day"/>
      </select><!-- No white space here.
   --><label class="screen-readers-only" for="year" data-l10n-id="vcard-date-year"/>
      <input id="year" type="number" min="0" max="9999"/>
    </div>
  </fieldset>
</template>
