# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

<!-- Styles -->
<link rel="stylesheet" href="chrome://messenger/skin/vcard.css" />

<!-- Scripts -->
<script src="chrome://messenger/content/addressbook/edit/n.js"></script>
<script src="chrome://messenger/content/addressbook/edit/email.js"></script>
<script src="chrome://messenger/content/addressbook/edit/edit.js"></script>

<!-- Localization -->
<link rel="localization" href="messenger/addressbook/vcard.ftl" />

<!-- A11Y -->
<label id="vcard-email-table-header-type-label" data-l10n-id="vcard-entry-type-label" hidden=""/>
<label id="vcard-email-table-header-email-label" data-l10n-id="vcard-email-label" hidden=""/>
<label id="vcard-email-table-header-primary" data-l10n-id="vcard-email-choose-primary" hidden=""/>

<!-- Edit View -->
<template id="template-addr-book-edit">
  <link rel="stylesheet" href="chrome://messenger/skin/vcard-edit.css"/>
  <!-- Name -->
  <fieldset id="addr-book-edit-n" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-name-header"/>
    <slot name="v-n"/>
  </fieldset>
  <!-- Email -->
  <fieldset id="addr-book-edit-email" class="addr-book-edit-fieldset">
    <legend data-l10n-id="vcard-email-header"/>
    <table>
      <thead>
        <tr>
          <th scope="col" data-l10n-id="vcard-entry-type-label"/>
          <th scope="col" data-l10n-id="vcard-email-label"/>
          <th scope="col" data-l10n-id="vcard-email-choose-primary"/>
        </tr>
      </thead>
      <tbody>
        <!--
          @note Because we're using XHTML this works.
          @see
          https://github.com/WICG/webcomponents/issues/59#issuecomment-202330706
          https://github.com/WICG/webcomponents/issues/404
        -->
        <slot name="v-email"/>
      </tbody>
    </table>
    <button id="vcard-add-email"
            class="addr-book-edit-fieldset-button"
            type="button">
      <img class="addr-book-edit-fieldset-button-icon"
           src="chrome://global/skin/icons/add.svg"
           alt=""/>
      <span data-l10n-id="vcard-email-add"/>
    </button>
  </fieldset>
</template>

<!-- Individual fields -->

<!-- N field -->
<template id="template-vcard-edit-n">
  <div id="n-list-component-prefix" class="n-list-component">
    <label for="vcard-n-prefix" data-l10n-id="vcard-n-prefix" />
    <input id="vcard-n-prefix"
           type="text"
           autocomplete="off" />
    <button class="primary" data-l10n-id="vcard-n-add-prefix"
            type="button">
      <img src="chrome://global/skin/icons/add.svg" alt="" />
    </button>
  </div>
  <div id="n-list-component-firstname" class="n-list-component">
    <label for="vcard-n-firstname" data-l10n-id="vcard-n-firstname" />
    <input id="vcard-n-firstname"
           type="text"
           autocomplete="off" />
  </div>
  <div id="n-list-component-middlename" class="n-list-component">
    <label for="vcard-n-middlename" data-l10n-id="vcard-n-middlename" />
    <input id="vcard-n-middlename"
           type="text"
           autocomplete="off" />
    <button class="primary" data-l10n-id="vcard-n-add-middlename"
            type="button">
      <img src="chrome://global/skin/icons/add.svg" alt="" />
    </button>
  </div>
  <div id="n-list-component-lastname" class="n-list-component">
    <label for="vcard-n-lastname" data-l10n-id="vcard-n-lastname" />
    <input id="vcard-n-lastname"
           type="text"
           autocomplete="off" />
  </div>
  <div id="n-list-component-suffix" class="n-list-component">
    <label for="vcard-n-suffix" data-l10n-id="vcard-n-suffix" />
    <button class="primary" data-l10n-id="vcard-n-add-suffix"
            type="button">
      <img src="chrome://global/skin/icons/add.svg" alt="" />
    </button>
    <input id="vcard-n-suffix"
           type="text"
           autocomplete="off" />
  </div>
</template>

<!-- Email -->
<template id="template-vcard-edit-email">
  <td>
    <select class="vcard-type-selection"
            aria-labelledby="vcard-email-table-header-type-label">
      <option value="work" data-l10n-id="vcard-entry-type-work" />
      <option value="home" data-l10n-id="vcard-entry-type-home" />
      <option value="" data-l10n-id="vcard-entry-type-none" selected="true" />
    </select>
  </td>
  <td>
    <input type="email"
           aria-labelledby="vcard-email-table-header-email-label" />
  </td>
  <td>
    <input type="checkbox"
           aria-labelledby="vcard-email-table-header-primary" />
  </td>
</template>
