<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, you can obtain one at http://mozilla.org/MPL/2.0/. -->

#filter substitution

<!DOCTYPE html [
<!ENTITY % messengerDTD SYSTEM "chrome://messenger/locale/messenger.dtd" >
%messengerDTD;
<!ENTITY % calendarDTD SYSTEM "chrome://calendar/locale/calendar.dtd">
%calendarDTD;
]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
      lightweightthemes="true">
<head>
  <meta charset="utf-8" />
  <title></title>

  <link rel="icon" href="chrome://messenger/skin/icons/folder-local.svg" />

  <link rel="stylesheet" href="chrome://messenger/skin/messenger.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/contextMenu.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/icons.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/colors.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/folderColors.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/folderMenus.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/shared/quickFilterBar.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/shared/tree-listbox.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/searchBox.css" />
  <link rel="stylesheet" href="chrome://messenger/skin/about3Pane.css" />

  <link rel="localization" href="messenger/about3Pane.ftl" />
  <link rel="localization" href="messenger/treeView.ftl" />
  <link rel="localization" href="messenger/messenger.ftl" />
  <link rel="localization" href="messenger/about3Pane.ftl" />
  <link rel="localization" href="toolkit/global/textActions.ftl" />

  <script defer="defer" src="chrome://messenger/content/globalOverlay.js"></script>
  <script defer="defer" src="chrome://communicator/content/utilityOverlay.js"></script>
  <script defer="defer" src="chrome://messenger/content/junkCommands.js"></script>
  <script defer="defer" src="chrome://messenger/content/mail-offline.js"></script>
  <script defer="defer" src="chrome://messenger/content/msgViewNavigation.js"></script>
  <script defer="defer" src="chrome://messenger/content/quickFilterBar.js"></script>
  <script defer="defer" src="chrome://messenger/content/pane-splitter.js"></script>
  <script defer="defer" src="chrome://messenger/content/tree-listbox.js"></script>
  <script defer="defer" type="module" src="chrome://messenger/content/tree-view.mjs"></script>
  <script defer="defer" src="chrome://messenger/content/jsTreeView.js"></script>
  <script defer="defer" src="chrome://messenger/content/mailContext.js"></script>
  <script defer="defer" src="chrome://messenger/content/mailCommon.js"></script>
  <script defer="defer" src="chrome://messenger/content/about3Pane.js"></script>
</head>
<body class="layout-classic">
  <div id="folderPane" tabindex="-1">
    <div id="folderPaneHeaderBar" hidden="hidden">
      <button id="folderPaneGetMessages"
              class="button button-flat icon-button icon-only"
              data-l10n-id="folder-pane-get-messages-button"
              type="button"
              disabled="disabled"></button>
      <button id="folderPaneWriteMessage"
              class="button button-primary icon-button"
              data-l10n-id="folder-pane-write-message-button"
              type="button"
              disabled="disabled"></button>
      <button id="folderPaneMoreButton"
              class="button button-flat icon-button icon-only"
              data-l10n-id="folder-pane-more-menu-button"
              type="button"></button>
    </div>
    <ul id="folderTree" is="tree-listbox" role="tree"></ul>
    <template id="modeTemplate">
      <li class="unselectable">
        <div class="mode-name"></div>
        <ul></ul>
      </li>
    </template>
    <template id="folderTemplate">
      <div class="container">
        <div class="twisty">
          <img class="twisty-icon" src="chrome://global/skin/icons/arrow-down-12.svg" alt="" />
        </div>
        <div class="icon"></div>
        <span class="name" tabindex="-1"></span>
        <span class="unread-count"></span>
      </div>
      <ul></ul>
    </template>
  </div>
  <hr is="pane-splitter" id="folderPaneSplitter"
      resize-direction="horizontal"
      resize-id="folderPane"
      collapse-width="100" />
  <div id="threadPane">
#include quickFilterBar.inc.xhtml
    <tree-view id="threadTree"/>
    <!-- Thread pane templates -->
    <template id="threadPaneApplyColumnMenu">
      <xul:menu class="applyTo-menu"
                data-l10n-id="apply-columns-to-menu"
                xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
        <menupopup>
          <menu class="applyToFolder-menu"
                data-l10n-id="apply-current-view-to-folder"
                oncommand="threadPane.confirmApplyColumns(event.target._folder);">
            <menupopup is="folder-menupopup"
                       class="applyToFolder"
                       showFileHereLabel="false"
                       position="start_before"></menupopup>
          </menu>
          <menu class="applyToFolderAndChildren-menu"
                data-l10n-id="apply-current-view-to-folder-children"
                oncommand="threadPane.confirmApplyColumns(event.target._folder, true);">
            <menupopup is="folder-menupopup"
                       class="applyToFolderAndChildren"
                       showFileHereLabel="true"
                       showAccountsFileHere="true"
                       position="start_before"></menupopup>
          </menu>
        </menupopup>
      </xul:menu>
    </template>
    <template id="threadPaneApplyViewMenu">
      <xul:menu class="applyViewTo-menu"
                data-l10n-id="apply-current-view-to-menu"
                xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
        <menupopup>
          <menu class="applyViewToFolder-menu"
                data-l10n-id="apply-current-view-to-folder"
                oncommand="threadPane.confirmApplyView(event.target._folder);">
            <menupopup is="folder-menupopup"
                       class="applyViewToFolder"
                       showFileHereLabel="true"
                       position="start_before"></menupopup>
          </menu>
          <menu class="applyViewToFolderAndChildren-menu"
                data-l10n-id="apply-current-view-to-folder-children"
                oncommand="threadPane.confirmApplyView(event.target._folder, true);">
            <menupopup is="folder-menupopup"
                       class="applyViewToFolderAndChildren"
                       showFileHereLabel="true"
                       showAccountsFileHere="true"
                       position="start_before"></menupopup>
          </menu>
        </menupopup>
      </xul:menu>
    </template>
    <template id="threadPaneRowTemplate">
      <!-- This template must be kept in sync with thread-pane-columns.mjs. -->
      <td class="selectcol-column"></td>
      <td class="tree-view-row-thread threadcol-column">
        <img src="" alt="" />
      </td>
      <td class="tree-view-row-flag flaggedcol-column">
        <button type="button"
                class="button-flat tree-button-flag"
                tabindex="-1">
          <img src="" alt="" />
        </button>
      </td>
      <td class="attachmentcol-column">
        <img src="" data-l10n-id="tree-list-view-row-attach" />
      </td>
      <td class="subjectcol-column">
        <div class="thread-container">
          <button type="button"
                  class="button button-flat button-reset twisty"
                  tabindex="-1">
            <img src="" alt="" class="twisty-icon" />
          </button>
          <div class="subject-line" tabindex="-1">
            <img src="" alt="" /><span></span>
          </div>
        </div>
      </td>
      <td class="tree-view-row-unread unreadbuttoncolheader-column">
        <button type="button"
                class="button-flat tree-button-unread"
                tabindex="-1">
          <img src="" alt="" />
        </button>
      </td>
      <td class="sendercol-column"></td>
      <td class="recipientcol-column"></td>
      <td class="correspondentcol-column"></td>
      <td class="tree-view-row-spam junkstatuscol-column">
        <button type="button"
                class="button-flat tree-button-spam"
                tabindex="-1">
          <img src="" alt="" />
        </button>
      </td>
      <td class="datecol-column"></td>
      <td class="receivedcol-column"></td>
      <td class="statuscol-column"></td>
      <td class="sizecol-column"></td>
      <td class="tagscol-column"></td>
      <td class="accountcol-column"></td>
      <td class="prioritycol-column"></td>
      <td class="unreadcol-column"></td>
      <td class="totalcol-column"></td>
      <td class="locationcol-column"></td>
      <td class="idcol-column"></td>
      <td class="tree-view-row-delete deletecol-column">
        <button type="button"
                class="button-flat tree-button-delete tree-button-request-delete"
                tabindex="-1"
                data-l10n-id="tree-list-view-row-delete">
          <img src="" alt="" />
        </button>
        <button type="button"
                class="button-flat tree-button-restore tree-button-request-delete"
                tabindex="-1"
                data-l10n-id="tree-list-view-row-restore">
          <img src="" alt="" />
        </button>
      </td>
    </template>
    <template id="threadPaneCardTemplate">
      <td>
        <div class="thread-card-container">
          <div class="thread-card-row">
            <span class="sender"></span>
            <img class="state replied" src="" data-l10n-id="threadpane-message-replied" />
            <img class="state forwarded" src="" data-l10n-id="threadpane-message-forwarded" />
            <img class="state redirected" src="" data-l10n-id="threadpane-message-redirected" />
            <span class="date"></span>
          </div>
          <div class="thread-card-row">
            <div class="thread-card-subject-container">
              <button type="button"
                      class="button button-flat button-reset twisty"
                      tabindex="-1">
                <img src="" alt="" class="twisty-icon" />
              </button>
              <span class="subject"></span>
            </div>
            <img class="attachment-icon" src="" data-l10n-id="tree-list-view-row-attach" />
            <button class="button-star tree-button-flag" tabindex="-1"></button>
          </div>
        </div>
      </td>
    </template>
    <div id="threadPaneNotificationBox">
      <!-- notificationbox will be added here lazily. -->
    </div>
  </div>
  <hr is="pane-splitter" id="messagePaneSplitter"
      resize-id="messagePane"
      collapse-width="300"
      collapse-height="100" />
  <div id="messagePane">
    <xul:browser id="webBrowser"
                 type="content"
                 hidden="true"
                 nodefaultsrc="true"
                 context="browserContext"
                 forcemessagemanager="true"
                 messagemanagergroup="single-page"
                 maychangeremoteness="true" />
    <xul:browser id="messageBrowser"
                 hidden="true"
                 src="about:message" />
    <xul:browser id="multiMessageBrowser"
                 type="content"
                 hidden="true"
                 src="chrome://messenger/content/multimessageview.xhtml" />
  </div>
  <xul:browser id="accountCentralBrowser" hidden="true"/>
</body>
<popupset xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  <menupopup id="folderPaneContext">
    <menuitem id="folderPaneContext-getMessages"
              class="menuitem-iconic"
              label="&folderContextGetMessages.label;"
              accesskey="&folderContextGetMessages.accesskey;"/>
    <menuitem id="folderPaneContext-pauseAllUpdates"
              type="checkbox"
              label="&folderContextPauseAllUpdates.label;"
              accesskey="&folderContextPauseUpdates.accesskey;"/>
    <menuitem id="folderPaneContext-pauseUpdates"
              type="checkbox"
              label="&folderContextPauseUpdates.label;"
              accesskey="&folderContextPauseUpdates.accesskey;"/>
    <menuseparator/>
    <menuitem id="folderPaneContext-openNewTab"
              class="menuitem-iconic"
              label="&folderContextOpenNewTab.label;"
              accesskey="&folderContextOpenNewTab.accesskey;"/>
    <menuitem id="folderPaneContext-openNewWindow"
              class="menuitem-iconic"
              label="&folderContextOpenInNewWindow.label;"
              accesskey="&folderContextOpenInNewWindow.accesskey;"/>
    <menuitem id="folderPaneContext-searchMessages"
              class="menuitem-iconic"
              label="&folderContextSearchForMessages.label;"
              accesskey="&folderContextSearchForMessages.accesskey;"/>
    <menuitem id="folderPaneContext-subscribe"
              class="menuitem-iconic"
              label="&folderContextSubscribe.label;"
              accesskey="&folderContextSubscribe.accesskey;"/>
    <menuitem id="folderPaneContext-newsUnsubscribe"
              class="menuitem-iconic"
              label="&folderContextUnsubscribe.label;"
              accesskey="&folderContextUnsubscribe.accesskey;"/>
    <menuseparator/>
    <menuitem id="folderPaneContext-new"
              class="menuitem-iconic"
              label="&folderContextNew.label;"
              accesskey="&folderContextNew.accesskey;"/>
    <menuitem id="folderPaneContext-remove"
              class="menuitem-iconic"
              label="&folderContextRemove.label;"
              accesskey="&folderContextRemove.accesskey;"/>
    <menuitem id="folderPaneContext-rename"
              class="menuitem-iconic"
              label="&folderContextRename.label;"
              accesskey="&folderContextRename.accesskey;"/>
    <menuseparator/>
    <menuitem id="folderPaneContext-compact"
              class="menuitem-iconic"
              label="&folderContextCompact.label;"
              accesskey="&folderContextCompact.accesskey;"/>
    <menuitem id="folderPaneContext-markMailFolderAllRead"
              class="menuitem-iconic"
              label="&folderContextMarkMailFolderRead.label;"
              accesskey="&folderContextMarkMailFolderRead.accesskey;"/>
    <menuitem id="folderPaneContext-markNewsgroupAllRead"
              class="menuitem-iconic"
              label="&folderContextMarkNewsgroupRead.label;"
              accesskey="&folderContextMarkNewsgroupRead.accesskey;"/>
    <menuitem id="folderPaneContext-emptyTrash"
              class="menuitem-iconic"
              label="&folderContextEmptyTrash.label;"
              accesskey="&folderContextEmptyTrash.accesskey;"/>
    <menuitem id="folderPaneContext-emptyJunk"
              class="menuitem-iconic"
              label="&folderContextEmptyJunk.label;"
              accesskey="&folderContextEmptyJunk.accesskey;"/>
    <menuitem id="folderPaneContext-sendUnsentMessages"
              class="menuitem-iconic"
              label="&folderContextSendUnsentMessages.label;"
              accesskey="&folderContextSendUnsentMessages.accesskey;"/>
    <menuseparator/>
    <menuitem id="folderPaneContext-favoriteFolder"
              type="checkbox"
              label="&folderContextFavoriteFolder.label;"
              accesskey="&folderContextFavoriteFolder.accesskey;"/>
    <menuitem id="folderPaneContext-properties"
              class="menuitem-iconic"
              label="&folderContextProperties2.label;"
              accesskey="&folderContextProperties2.accesskey;"/>
    <menuitem id="folderPaneContext-markAllFoldersRead"
              class="menuitem-iconic"
              label="&folderContextMarkAllFoldersRead.label;"/>
    <menuseparator/>
    <menuitem id="folderPaneContext-settings"
              class="menuitem-iconic"
              label="&folderContextSettings2.label;"
              accesskey="&folderContextSettings2.accesskey;"/>
  </menupopup>
  <tooltip id="qfb-text-search-upsell">
    <div id="qfb-upsell-line-one"
         data-l10n-id="quick-filter-bar-gloda-upsell-line1"></div>
    <div id="qfb-upsell-line-two"></div>
  </tooltip>
  <menupopup id="folderPaneMoreContext"
             class="no-accel-menupopup"
             position="bottomleft topleft"
             onpopupshowing="folderPane.updateContextCheckedFolderMode();">
    <menuitem id="folderPaneMoreContextAllFolders"
              class="folder-pane-mode"
              value="all"
              type="checkbox"
              closemenu="none"
              data-l10n-id="show-all-folders-label"
              oncommand="folderPane.toggleFolderMode(event);"/>
    <menuitem id="folderPaneMoreContextUnifiedFolders"
              class="folder-pane-mode"
              value="smart"
              type="checkbox"
              closemenu="none"
              data-l10n-id="show-smart-folders-label"
              oncommand="folderPane.toggleFolderMode(event);"/>
    <menuitem id="folderPaneMoreContextUnreadFolders"
              class="folder-pane-mode"
              value="unread"
              type="checkbox" name="viewmessages"
              closemenu="none"
              data-l10n-id="show-unread-folders-label"
              oncommand="folderPane.toggleFolderMode(event);"/>
    <menuitem id="folderPaneMoreContextFavoriteFolders"
              class="folder-pane-mode"
              value="favorite"
              type="checkbox"
              closemenu="none"
              data-l10n-id="show-favorite-folders-label"
              oncommand="folderPane.toggleFolderMode(event);"/>
    <menuitem id="folderPaneMoreContextRecentFolders"
              class="folder-pane-mode"
              value="recent"
              type="checkbox"
              closemenu="none"
              data-l10n-id="show-recent-folders-label"
              oncommand="folderPane.toggleFolderMode(event);"/>
    <menuseparator id="separatorAfterFolderViewOptions"/>
    <menuitem id="folderPaneHeaderHideMenuItem"
              data-l10n-id="folder-pane-header-context-hide"
              oncommand="folderPane.toggleHeader(false);"/>
  </menupopup>
#include mailContext.inc.xhtml
</popupset>
</html>
